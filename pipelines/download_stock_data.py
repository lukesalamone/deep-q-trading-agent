import yfinance as yf

def main():
    kospi = '244920,140910,015260,078520,018250,298690,095570,006840,161000,001780,002790,090430,008700,007460,003060,002030,183190,020560,267850,002310,017900,155900,035150,027410,282330,352820,005180,030790,138930,000890,002760,026940,001270,003850,003000,002410,015350,011390,001460,007210,013700,006380,068270,012600,308170,002420,009310,033250,001560,030000,002780,100250,003780,051630,010640,001550,002600,018470,004700,004910,000950,185750,001630,120030,000480,000650,004920,001040,079160,097950,000120,011150,063160,031820,109070,192820,044820,005070,005420,021240,264900,005740,000590,112610,192400,284740,015590,012800,015230,000490,008060,353200,006370,084010,001130,003830,069460,016090,019680,005750,001880,006570,001680,084690,016710,117580,128820,006340,024890,000430,003220,009320,003090,069620,014160,008110,003540,009190,023590,058730,002880,000300,012030,000990,005830,016610,024090,145720,139130,034020,003160,001530,004890,092200,000210,375500,002150,028100,282690,002690,000640,170900,007590,004140,005960,001230,023450,026960,102260,005190,002210,000020,018500,049770,030720,006040,084670,092780,008970,000150,241560,336260,192080,012510,026890,004840,163560,192650,042670,042660,155660,069730,007340,016740,024900,004830,047040,014820,013570,210540,088260,017940,008250,093230,139480,011090,074610,365550,015020,001200,000700,084680,007700,036580,033180,081660,133820,010820,093370,016800,035000,011420,000500,006280,005250,011000,114090,013870,083420,078930,006360,001250,007070,037710,003530,241590,003010,195870,101530,014790,060980,293480,086790,009420,039130,005110,009460,014680,002390,143210,020000,014130,006390,300720,003300,002220,097230,180640,002320,000240,161390,123690,002960,025890,017960,008930,053690,128940,042700,011500,018880,105630,069640,016450,004960,011700,004150,009180,213500,010420,004710,009240,003680,000880,012450,000370,088350,009830,272210,001750,012630,039570,089470,294870,322000,003280,000540,003480,172580,153360,071090,000080,000140,019490,003350,011200,001500,000850,111110,025750,013520,082740,006060,008770,069260,005870,005010,079980,010660,032560,010690,002460,004800,298050,298000,298040,094280,298020,004560,267270,227840,267260,126560,267250,001450,004310,064350,004020,011210,307950,011760,069960,017800,000720,086280,005440,057050,079430,010620,005380,093240,024110,350520,334890,003560,000230,249420,008500,081000,103590,020150,020760,015860,003200,007110,013360,003120,007570,122900,014990,101140,034590,023810,214320,006490,129260,023800,010780,005950,007660,226320,033240,025620,175330,036420,271980,002620,006220,089590,010580,272450,088790,044380,348950,194370,096760,234080,001060,123890,035720,003490,000860,035250,105560,001620,029460,119650,009440,002380,344820,009070,281820,071320,092220,023350,006200,015760,052690,051600,130660,012200,016380,001390,000270,020120,071050,152550,168490,104700,001940,092440,002240,012170,039490,004540,071950,036460,161890,024720,002020,120110,144620,138490,003070,357120,005430,000970,007810,047810,003690,034830,025540,002200,010100,002140,005880,004090,010130,007280,006650,025000,092230,000040,010040,009540,044450,030200,053210,033780,030210,058850,058860,145270,001140,007690,005320,014530,002720,008870,214330,001210,002990,011780,073240,014280,001570,033270,017040,009290,013580,030610,339770,214390,000050,267290,012320,009450,009140,012610,002100,115390,025820,093050,003550,034220,108670,037560,011070,032640,051910,066570,051900,001120,079550,004990,011170,280360,286940,004000,071840,330590,023530,032350,005300,002270,000400,006260,229640,010120,000680,900140,204320,001080,027740,357250,094800,134380,138040,000060,008560,090370,023150,003650,025560,006800,085620,007120,268280,002840,088980,012330,204210,012690,005360,008420,009580,009200,009900,009680,033920,107590,017180,025860,001260,008350,004270,003920,035420,036570,251270,005720,002350,003580,338100,005940,181710,008260,034310,085310,009810,004370,072710,000320,090350,004250,138250,002630,010060,271560,001800,007310,006090,001340,003610,028670,007980,001020,950210,005690,090080,010770,017810,007630,103140,005810,005490,058430,003670,047050,005030,102460,000760,100840,036530,064960,003570,012750,075180,145210,058650,008040,007160,014710,006110,001470,004690,004450,000390,002450,004380,004440,000520,005500,009770,207940,028260,029780,032830,001360,068290,006400,018260,006660,005930,009150,028050,000810,010140,016360,001820,009470,011230,023000,272550,003230,000070,002170,003720,005680,002810,001290,041650,067830,001430,034120,101060,102280,023960,000180,010960,019440,003030,004360,027970,075580,033530,007540,248170,007610,011300,017390,004410,021050,007860,200880,091090,021820,013000,031440,001380,004490,005090,004060,002360,016590,293940,055550,004080,001770,002700,002870,019170,004170,035510,031430,034300,011930,005390,009270,001720,005800,134790,004970,009160,029530,006880,003960,123700,025530,034730,006120,000660,096770,068400,326030,011790,285130,210980,018670,001740,001510,017670,005850,010950,248070,336370,004430,017550,005610,003410,003620,306200,011810,071970,077970,008490,002820,003080,014910,004980,136490,004770,145990,003240,014580,006890,015890,001420,004100,009410,001440,001070,011280,055490,084870,002710,078000,015540,019180,001520,082640,002900,214420,001790,004870,091810,363280,072130,011330,014830,000910,047400,077500,096300,100220,002070,010600,016580,010050,008600,024070,005820,105840,049800,010400,016880,095720,033660,118000,004720,316140,017370,006980,317400,012280,015360,037270,002920,008730,014440,111770,009970,000670,006740,012160,070960,003470,000100,003460,003520,011690,000220,013890'
    kospi = kospi.split(',')

    for i, symbol in enumerate(['^HSI']):
        symbol = f'{symbol}'
        print(f'({i+1}/{len(kospi)}) downloading symbol { symbol } . . .')
        data = yf.download(symbol, start="1987-01-01", end="2017-12-31")
        data.to_csv(f'../raw/hsi/{symbol}.csv')

if __name__ == '__main__':
    main()